<div class="search-container">
    <input type="text" id="search-input" placeholder="搜索文章...">
    <div id="search-results"></div>
  </div>
  
  <style>
  .search-container {
    margin: 1rem 0;
    position: relative;
  }
  
  #search-input {
    width: 100%;
    padding: 0.5rem;
    font-size: 16px;
    border: 1px solid #ddd;
    border-radius: 4px;
    outline: none;
  }
  
  #search-input:focus {
    border-color: #268bd2;
    box-shadow: 0 0 5px rgba(38,139,210,0.2);
  }
  
  #search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-top: 0.5rem;
    max-height: 300px;
    overflow-y: auto;
    display: none;
    z-index: 1000;
  }
  
  .search-result-item {
    padding: 0.5rem;
    border-bottom: 1px solid #eee;
  }
  
  .search-result-item:last-child {
    border-bottom: none;
  }
  
  .search-result-item:hover {
    background: #f5f5f5;
  }
  
  .search-result-item a {
    color: #268bd2;
    text-decoration: none;
  }
  
  .search-result-item a:hover {
    text-decoration: underline;
  }
  </style>
  
  <script>
  (function() {
    function createIndex() {
      var index = [];
      var posts = document.querySelectorAll('article');
      posts.forEach(function(post) {
        var titleEl = post.querySelector('.post-title');
        if (titleEl) {
          var title = titleEl.textContent;
          var link = titleEl.querySelector('a').href;
          var content = post.querySelector('.post-content') 
            ? post.querySelector('.post-content').textContent 
            : '';
          
          index.push({
            title: title,
            content: content,
            url: link
          });
        }
      });
      return index;
    }
  
    function search(query, index) {
      query = query.toLowerCase();
      return index.filter(function(item) {
        var titleMatch = item.title.toLowerCase().includes(query);
        var contentMatch = item.content.toLowerCase().includes(query);
        return titleMatch || contentMatch;
      });
    }
  
    function displayResults(results) {
      var searchResults = document.getElementById('search-results');
      searchResults.innerHTML = '';
      
      if (results.length === 0) {
        searchResults.style.display = 'none';
        return;
      }
  
      results.forEach(function(result) {
        var div = document.createElement('div');
        div.className = 'search-result-item';
        div.innerHTML = '<a href="' + result.url + '">' + result.title + '</a>';
        searchResults.appendChild(div);
      });
  
      searchResults.style.display = 'block';
    }
  
    var searchIndex = createIndex();
    var searchInput = document.getElementById('search-input');
    var searchResults = document.getElementById('search-results');
  
    searchInput.addEventListener('input', function(e) {
      var query = e.target.value;
      if (query.length < 2) {
        searchResults.style.display = 'none';
        return;
      }
      var results = search(query, searchIndex);
      displayResults(results);
    });
  
    // 点击其他地方关闭搜索结果
    document.addEventListener('click', function(e) {
      if (!searchResults.contains(e.target) && e.target !== searchInput) {
        searchResults.style.display = 'none';
      }
    });
  })();
  </script>