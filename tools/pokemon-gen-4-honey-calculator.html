---
layout: post
title: "甜甜蜜树小卡比兽出现地点计算器"
permalink: honey.html
---

<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">

<style>
.snorlax-app {
  font-family: "Segoe UI", Arial, sans-serif;
  max-width: 720px;
  margin: 30px auto;
  padding: 20px;
  background: #f7f9fc;
}

.snorlax-app .card {
  background: #ffffff;
  border-radius: 12px;
  padding: 20px 24px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.snorlax-app h2 {
  text-align: center;
  color: #333;
  margin-bottom: 12px;
}

.snorlax-app .desc {
  font-size: 14px;
  line-height: 1.7;
  color: #555;
  background: #f1f4f9;
  padding: 12px;
  border-radius: 8px;
  margin-bottom: 15px;
}

.snorlax-app .form-group {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

.snorlax-app input {
  flex: 1;
  padding: 10px 12px;
  font-size: 15px;
  border-radius: 6px;
  border: 1px solid #ccc;
  outline: none;
}

.snorlax-app input:focus {
  border-color: #4CAF50;
}

.snorlax-app button {
  padding: 10px 18px;
  font-size: 15px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, #4CAF50, #43a047);
  color: #fff;
  transition: 0.2s;
}

.snorlax-app button:hover {
  opacity: 0.9;
}

.snorlax-app .result {
  margin-top: 15px;
  padding: 12px;
  border-radius: 8px;
  background: #e8f5e9;
  font-size: 15px;
  color: #2e7d32;
}

.snorlax-app .error {
  background: #fdecea;
  color: #c62828;
}

.snorlax-app .all-address {
  display: none;
  margin-top: 10px;
  max-height: 300px;
  overflow-y: auto;
  background: #f0f4f8;
  border-radius: 6px;
  padding: 10px;
  font-size: 14px;
  line-height: 1.6;
  color: #333;
}

@media (max-width: 600px) {
  .snorlax-app .form-group {
    flex-direction: column;
  }
  .snorlax-app button {
    width: 100%;
  }
}
</style>
</head>
<body>

<div class="snorlax-app">
  <div class="card">

    <h2>甜甜蜜树小卡比兽计算器</h2>

    <div class="desc">
      将甜甜蜜涂在树上6小时后即可遇见野生宝可梦，24小时后失效。<br>
      神奥地区共有21棵甜甜蜜树，其中只有4棵能吸引小卡比兽。<br>
      摇动次数越多，出现稀有宝可梦概率越高（最多3次）。<br>
      涂抹甜甜蜜时即确定宝可梦种类，重置可改变个体值、性格等。<br>
      修改主机时间不会影响计时。<br>
      若对话为“树上有甜甜蜜”说明成功。否则可再次涂蜜直到对话改变。
    </div>

    <div class="form-group">
      <input type="number" id="inputA" placeholder="游戏ID / TID">
      <input type="number" id="inputD" placeholder="里ID / SID（没有则留空）">
      <button onclick="calculate()">计算</button>
    </div>

    <div class="result" id="output"></div>

    <button id="toggleAll" onclick="toggleAllAddress()">显示全部地址</button>
    <div class="all-address" id="allAddress"></div>

  </div>
</div>

<script>
const table = [
  "205号道路南边",
  "205号道路北边",
  "206号道路",
  "207号道路",
  "208号道路",
  "209号道路",
  "210号道路南边",
  "210号道路北边",
  "211号道路东边",
  "212号道路北边",
  "212号道路南边",
  "213号道路",
  "214号道路",
  "215号道路",
  "218号道路",
  "221号道路",
  "222号道路",
  "山谷发电厂",
  "百代森林里的捷径",
  "多多罗钢铁厂",
  "花苑花田"
];

function calculate() {
  const output = document.getElementById("output");
  const inputAVal = document.getElementById("inputA").value.trim();
  const inputDVal = document.getElementById("inputD").value.trim();

  if(inputAVal === ""){
    output.className = "result error";
    output.innerText = "请输入游戏ID / TID";
    return;
  }

  const a = parseInt(inputAVal);
  if(isNaN(a)){
    output.className = "result error";
    output.innerText = "游戏ID / TID 无效";
    return;
  }

  let nums = [
    Math.floor(a/256)%21,
    (a%256)%21
  ];

  // 如果 inputD 有值，计算其两个数值
  if(inputDVal !== ""){
    const d = parseInt(inputDVal);
    if(isNaN(d)){
      output.className = "result error";
      output.innerText = "里ID / SID 无效";
      return;
    }
    nums.push(Math.floor(d/256)%21);
    nums.push((d%256)%21);

    // 处理重复，出现重复的数值按出现顺序+1，21归0
    for(let i=1; i<nums.length; i++){
      for(let j=0; j<i; j++){
        if(nums[i] === nums[j]){
          nums[i] = (nums[i]+1)%21;
          j=-1; // 重新检查前面是否重复
        }
      }
    }
  }

  // 输出
  output.className = "result";
  output.innerHTML = `
    <strong>最终出现地点：</strong><br>
    ${nums.map((n,i)=> `${i+1}️⃣ ${table[n]}`).join("<br>")}
  `;
}

// 初始化全部地址列表
const allAddressDiv = document.getElementById("allAddress");
allAddressDiv.innerHTML = table.map((addr,i)=> `${i+1}. ${addr}`).join("<br>");

function toggleAllAddress() {
  const div = document.getElementById("allAddress");
  const btn = document.getElementById("toggleAll");
  if(div.style.display === "none" || div.style.display === ""){
    div.style.display = "block";
    btn.innerText = "隐藏全部地址";
  } else {
    div.style.display = "none";
    btn.innerText = "显示全部地址";
  }
}
</script>

</body>
</html>