---
layout: default
title: "æ‹¼è±†å›¾çº¸ç”Ÿæˆå™¨"
permalink: beads.html
---

<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>æ‹¼è±†å›¾çº¸ç”Ÿæˆå™¨ - ä¸“ä¸šç¼–è¾‘ç‰ˆ</title>
    <!-- å¼•å…¥å¤–éƒ¨ä¾èµ–åº“ -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>

    <style>
        .beads-container { font-family: 'Segoe UI', Arial, sans-serif; background: #f0f2f5; padding: 20px; color: #333; }
        .beads-controls { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px; }
        
        /* ç¼–è¾‘å·¥å…·æ  */
        .edit-toolbar { 
            display: flex; align-items: center; gap: 15px; 
            background: #e9ecef; padding: 12px; border-radius: 6px; margin: 15px 0;
            border: 1px solid #dee2e6;
        }
        .tool-group { display: flex; align-items: center; gap: 5px; }
        button { padding: 8px 15px; cursor: pointer; border: 1px solid #ccc; border-radius: 4px; background: white; transition: 0.2s; }
        button:hover { background: #f8f9fa; }
        button.active { background: #007bff; color: white; border-color: #0056b3; }
        
        #beads-canvas { 
            border: 2px solid #333; image-rendering: pixelated; 
            max-width: 100%; display: block; background: white; cursor: crosshair;
        }

        /* å¸ƒå±€ */
        .beads-export { background: white; padding: 20px; border-radius: 8px; }
        .beads-color-list { margin-top: 15px; display: flex; flex-wrap: wrap; gap: 10px; }
        .beads-color-item { 
            display: flex; align-items: center; background: #fff; 
            padding: 5px 10px; border: 1px solid #eee; border-radius: 4px; font-size: 13px;
        }
        .beads-swatch { width: 18px; height: 18px; border: 1px solid #000; margin-right: 8px; border-radius: 2px; }

        /* è£å‰ª */
        #crop-box { display: none; margin: 20px 0; background: #fff; padding: 15px; border: 2px dashed #007bff; border-radius: 8px; }
        #image-to-crop { max-width: 100%; display: block; max-height: 500px; }
        .crop-btn-group { margin-top: 15px; text-align: center; display: flex; justify-content: center; gap: 10px; }
        .btn-confirm { background: #28a745; color: white; border: none; }
        /* ================= æ‰‹æœºç«¯é€‚é…ä¼˜åŒ– ================= */
        @media (max-width: 768px) {

            .beads-container {
                padding: 10px;
            }

            .beads-controls,
            .beads-export {
                padding: 12px;
            }

            h2 {
                font-size: 18px;
                text-align: center;
            }

            /* ä¸Šä¼  & ä¸»æ§åŒºåŸŸæ”¹ä¸ºçºµå‘ */
            .tool-group {
                flex-wrap: wrap;
                gap: 8px;
            }

            #main-controls {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }

            #main-controls label {
                margin-right: 0;
            }

            #beads-cols {
                width: 100%;
            }

            #beads-download {
                margin-left: 0 !important;
                width: 100%;
            }

            /* ç¼–è¾‘å·¥å…·æ æ”¹ä¸ºå¤šè¡Œ */
            .edit-toolbar {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .edit-toolbar .tool-group {
                justify-content: space-between;
                flex-wrap: wrap;
            }

            .edit-toolbar button {
                flex: 1;
                min-width: 45%;
            }

            /* Canvas è‡ªé€‚åº”æ‰‹æœºå®½åº¦ */
            #beads-canvas {
                width: 100% !important;
                height: auto !important;
            }

            /* é¢œè‰²ç»Ÿè®¡å¡ç‰‡æ›´ç´§å‡‘ */
            .beads-color-list {
                gap: 6px;
            }

            .beads-color-item {
                font-size: 12px;
                padding: 4px 6px;
            }

            /* è£å‰ªåŒºå›¾ç‰‡é«˜åº¦é™åˆ¶ */
            #image-to-crop {
                max-height: 60vh;
            }

            /* è£å‰ªæŒ‰é’®çºµå‘æ’åˆ— */
            .crop-btn-group {
                flex-direction: column;
            }

            .crop-btn-group button {
                width: 100%;
            }
        }
        /* å¯¼å‡ºä¸“ç”¨é«˜æ¸…æ ·å¼ */
        .export-hq .bead-cell {
            font-size: 18px !important;
            font-weight: 600;
        }

        .export-hq .bead-grid {
            border-width: 2px;
        }
    </style>
</head>

<body>
<div class="beads-container">
    <h2>ğŸŸ© æ‹¼è±†å›¾çº¸ç”Ÿæˆå™¨ - ä¸“ä¸šç¼–è¾‘ç‰ˆ</h2>

    <div class="beads-controls">
        <div class="tool-group">
            <label>1. ä¸Šä¼ å›¾ç‰‡ï¼š</label>
            <input type="file" id="beads-upload" accept="image/*">
        </div>

        <div id="crop-box">
            <img id="image-to-crop" src="">
            <div class="crop-btn-group">
                <button id="btn-crop-confirm" class="btn-confirm">âœ‚ï¸ ç¡®è®¤è£å‰ªå¹¶ç”Ÿæˆ</button>
                <button id="btn-crop-cancel">å–æ¶ˆ</button>
            </div>
        </div>

        <div id="main-controls" style="margin-top:15px;">
            <label>2. è‰²å¡å¥—è£…ï¼š</label>
            <select id="beads-table-select">
                <option value="tableMy">ç±³ç¥/ç«¥è¶£ 48è‰²</option>
                <option value="table24">MARD 24è‰²</option>
                <option value="table48">MARD 48è‰²</option>
                <option value="table72">MARD 72è‰²</option>
                <option value="table96">MARD 96è‰²</option>
                <option value="table120">MARD 120è‰²</option>
                <option value="table144">MARD 144è‰²</option>
                <option value="table216">MARD 216è‰²</option>
                <option value="table1" selected>MARD 291è‰²</option>
                <option value="tableCoco">Coco 278è‰²</option>
                <option value="tableManman">æ¼«æ¼« 278è‰²</option>
                <option value="tablePanpan">ç›¼ç›¼ 278è‰²</option>
                <option value="tableMixiaowo">å’ªå°çª 278è‰²</option>
            </select>
            <label> æ¯è¡Œæ ¼å­: </label>
            <input type="number" id="beads-cols" value="50" min="10" max="150" style="width:60px">
            <button id="beads-download" style="margin-left:20px; background:#6c757d; color:white">ğŸ’¾ ä¸‹è½½å›¾çº¸</button>
        </div>

        <div class="edit-toolbar">
            <div class="tool-group">
                <strong>ğŸ–Œï¸ ç¼–è¾‘æ“ä½œ:</strong>
                <button id="btn-mirror-lr" style="color:#d63384; border-color:#d63384;">â†”ï¸ å·¦å³é•œåƒ</button>
              <span>|</span>
                <button id="btn-mode-paint" class="active">æ”¹è‰²æ¨¡å¼</button>
                <button id="btn-mode-pick">å–è‰²æ¨¡å¼ (Q)</button>
              
            </div>
            <div class="tool-group">
                <label>å½“å‰è‰²: <span id="current-bead-id" style="font-weight:bold; margin-right:5px;"></span></label>
                <input type="color" id="current-paint-color" value="#ff0000">
            </div>
        </div>
    </div>

    <div class="beads-export" id="result-area" style="display:none">
        <canvas id="beads-canvas"></canvas>
        <h3 id="color-count">ğŸ¨ é¢œè‰²ç»Ÿè®¡</h3>
        <div id="beads-colors" class="beads-color-list"></div>
      <h3>ğŸŒ rwho.top/beads</h3>
    </div>
</div>

<script src="/tools/beads-logic.js"></script>
</body>
</html>